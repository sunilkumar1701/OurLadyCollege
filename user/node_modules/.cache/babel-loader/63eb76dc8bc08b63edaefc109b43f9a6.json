{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar react_1 = __importDefault(require(\"react\"));\nvar TimerModel_1 = require(\"../../lib/models/TimerModel\");\nvar TimerContext = react_1.default.createContext({\n  ms: 0,\n  s: 0,\n  m: 0,\n  h: 0,\n  d: 0,\n  formatValue: function (value) {\n    return String(value);\n  }\n});\nvar TimerValue = function (_a) {\n  var unit = _a.unit,\n    formatValue = _a.formatValue;\n  return react_1.default.createElement(Timer.Consumer, null, function (props) {\n    var format = formatValue || props.formatValue;\n    return format(props[unit]) || null;\n  });\n};\nvar Milliseconds = function (props) {\n  return react_1.default.createElement(TimerValue, __assign({\n    unit: \"ms\"\n  }, props));\n};\nvar Seconds = function (props) {\n  return react_1.default.createElement(TimerValue, __assign({\n    unit: \"s\"\n  }, props));\n};\nvar Minutes = function (props) {\n  return react_1.default.createElement(TimerValue, __assign({\n    unit: \"m\"\n  }, props));\n};\nvar Hours = function (props) {\n  return react_1.default.createElement(TimerValue, __assign({\n    unit: \"h\"\n  }, props));\n};\nvar Days = function (props) {\n  return react_1.default.createElement(TimerValue, __assign({\n    unit: \"d\"\n  }, props));\n};\nvar Timer = /** @class */function (_super) {\n  __extends(Timer, _super);\n  function Timer(props) {\n    var _this = _super.call(this, props) || this;\n    var _a = _this.props,\n      initialTime = _a.initialTime,\n      direction = _a.direction,\n      timeToUpdate = _a.timeToUpdate,\n      lastUnit = _a.lastUnit,\n      checkpoints = _a.checkpoints;\n    _this.timer = new TimerModel_1.TimerModel({\n      initialTime: initialTime,\n      direction: direction,\n      timeToUpdate: timeToUpdate,\n      lastUnit: lastUnit,\n      checkpoints: checkpoints,\n      onChange: _this.setState.bind(_this)\n    });\n    _this.state = __assign({}, _this.timer.timeParts, {\n      timerState: 'INITED'\n    });\n    _this.start = _this.start.bind(_this);\n    _this.pause = _this.pause.bind(_this);\n    _this.resume = _this.resume.bind(_this);\n    _this.stop = _this.stop.bind(_this);\n    _this.reset = _this.reset.bind(_this);\n    _this.setTime = _this.setTime.bind(_this);\n    _this.getTime = _this.getTime.bind(_this);\n    _this.getTimerState = _this.getTimerState.bind(_this);\n    _this.setDirection = _this.setDirection.bind(_this);\n    _this.setCheckpoints = _this.setCheckpoints.bind(_this);\n    return _this;\n  }\n  Timer.getUI = function (children, renderProps) {\n    if (children === null) {\n      return null;\n    }\n    if (Array.isArray(children) || react_1.default.isValidElement(children)) {\n      return children;\n    }\n    if (children.prototype && children.prototype.isReactComponent) {\n      return react_1.default.createElement(children, renderProps);\n    }\n    if (typeof children === 'function') {\n      return children(renderProps);\n    }\n    throw new Error('Please use one of the supported APIs for children');\n  };\n  Timer.prototype.componentDidMount = function () {\n    var startImmediately = this.props.startImmediately;\n    startImmediately && this.timer.start();\n  };\n  Timer.prototype.componentWillUnmount = function () {\n    this.timer.stop();\n  };\n  Timer.prototype.render = function () {\n    var _a = this,\n      start = _a.start,\n      pause = _a.pause,\n      resume = _a.resume,\n      stop = _a.stop,\n      reset = _a.reset,\n      getTime = _a.getTime,\n      getTimerState = _a.getTimerState,\n      setTime = _a.setTime,\n      setDirection = _a.setDirection,\n      setCheckpoints = _a.setCheckpoints;\n    var _b = this.state,\n      ms = _b.ms,\n      s = _b.s,\n      m = _b.m,\n      h = _b.h,\n      d = _b.d,\n      timerState = _b.timerState;\n    var _c = this.props,\n      formatValue = _c.formatValue,\n      children = _c.children;\n    return react_1.default.createElement(TimerContext.Provider, {\n      value: {\n        ms: ms,\n        s: s,\n        m: m,\n        h: h,\n        d: d,\n        formatValue: formatValue\n      }\n    }, Timer.getUI(children, {\n      start: start,\n      resume: resume,\n      pause: pause,\n      stop: stop,\n      reset: reset,\n      getTime: getTime,\n      getTimerState: getTimerState,\n      setTime: setTime,\n      setDirection: setDirection,\n      setCheckpoints: setCheckpoints,\n      timerState: timerState\n    }));\n  };\n  Timer.prototype.setTime = function (time) {\n    this.timer.setTime(time);\n  };\n  Timer.prototype.getTime = function () {\n    return this.timer.getTime();\n  };\n  Timer.prototype.getTimerState = function () {\n    return this.timer.state;\n  };\n  Timer.prototype.setDirection = function (direction) {\n    this.timer.setDirection(direction);\n  };\n  Timer.prototype.setCheckpoints = function (checkpoints) {\n    this.timer.setCheckpoints(checkpoints);\n  };\n  Timer.prototype.start = function () {\n    this.timer.start();\n    this.props.onStart();\n  };\n  Timer.prototype.stop = function () {\n    this.timer.stop();\n    this.props.onStop();\n  };\n  Timer.prototype.pause = function () {\n    this.timer.pause();\n    this.props.onPause();\n  };\n  Timer.prototype.reset = function () {\n    this.timer.reset();\n    this.props.onReset();\n  };\n  Timer.prototype.resume = function () {\n    this.timer.resume();\n    this.props.onResume();\n  };\n  Timer.Consumer = TimerContext.Consumer;\n  Timer.Milliseconds = Milliseconds;\n  Timer.Seconds = Seconds;\n  Timer.Minutes = Minutes;\n  Timer.Hours = Hours;\n  Timer.Days = Days;\n  Timer.defaultProps = {\n    timeToUpdate: 1000,\n    direction: 'forward',\n    initialTime: 0,\n    startImmediately: true,\n    lastUnit: 'd',\n    checkpoints: [],\n    children: null,\n    formatValue: function (value) {\n      return String(value);\n    },\n    onStart: function () {},\n    onResume: function () {},\n    onPause: function () {},\n    onStop: function () {},\n    onReset: function () {}\n  };\n  return Timer;\n}(react_1.default.PureComponent);\nexports.default = Timer;","map":{"version":3,"sources":["../../../src/components/Timer/Timer.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nvar TimerModel_1 = require(\"../../lib/models/TimerModel\");\r\nvar TimerContext = react_1.default.createContext({\r\n    ms: 0,\r\n    s: 0,\r\n    m: 0,\r\n    h: 0,\r\n    d: 0,\r\n    formatValue: function (value) { return String(value); },\r\n});\r\nvar TimerValue = function (_a) {\r\n    var unit = _a.unit, formatValue = _a.formatValue;\r\n    return (react_1.default.createElement(Timer.Consumer, null, function (props) {\r\n        var format = formatValue || props.formatValue;\r\n        return format(props[unit]) || null;\r\n    }));\r\n};\r\nvar Milliseconds = function (props) { return (react_1.default.createElement(TimerValue, __assign({ unit: \"ms\" }, props))); };\r\nvar Seconds = function (props) { return (react_1.default.createElement(TimerValue, __assign({ unit: \"s\" }, props))); };\r\nvar Minutes = function (props) { return (react_1.default.createElement(TimerValue, __assign({ unit: \"m\" }, props))); };\r\nvar Hours = function (props) { return (react_1.default.createElement(TimerValue, __assign({ unit: \"h\" }, props))); };\r\nvar Days = function (props) { return (react_1.default.createElement(TimerValue, __assign({ unit: \"d\" }, props))); };\r\nvar Timer = /** @class */ (function (_super) {\r\n    __extends(Timer, _super);\r\n    function Timer(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        var _a = _this.props, initialTime = _a.initialTime, direction = _a.direction, timeToUpdate = _a.timeToUpdate, lastUnit = _a.lastUnit, checkpoints = _a.checkpoints;\r\n        _this.timer = new TimerModel_1.TimerModel({\r\n            initialTime: initialTime,\r\n            direction: direction,\r\n            timeToUpdate: timeToUpdate,\r\n            lastUnit: lastUnit,\r\n            checkpoints: checkpoints,\r\n            onChange: _this.setState.bind(_this),\r\n        });\r\n        _this.state = __assign({}, _this.timer.timeParts, { timerState: 'INITED' });\r\n        _this.start = _this.start.bind(_this);\r\n        _this.pause = _this.pause.bind(_this);\r\n        _this.resume = _this.resume.bind(_this);\r\n        _this.stop = _this.stop.bind(_this);\r\n        _this.reset = _this.reset.bind(_this);\r\n        _this.setTime = _this.setTime.bind(_this);\r\n        _this.getTime = _this.getTime.bind(_this);\r\n        _this.getTimerState = _this.getTimerState.bind(_this);\r\n        _this.setDirection = _this.setDirection.bind(_this);\r\n        _this.setCheckpoints = _this.setCheckpoints.bind(_this);\r\n        return _this;\r\n    }\r\n    Timer.getUI = function (children, renderProps) {\r\n        if (children === null) {\r\n            return null;\r\n        }\r\n        if (Array.isArray(children) || react_1.default.isValidElement(children)) {\r\n            return children;\r\n        }\r\n        if (children.prototype && children.prototype.isReactComponent) {\r\n            return react_1.default.createElement(children, renderProps);\r\n        }\r\n        if (typeof children === 'function') {\r\n            return children(renderProps);\r\n        }\r\n        throw new Error('Please use one of the supported APIs for children');\r\n    };\r\n    Timer.prototype.componentDidMount = function () {\r\n        var startImmediately = this.props.startImmediately;\r\n        startImmediately && this.timer.start();\r\n    };\r\n    Timer.prototype.componentWillUnmount = function () {\r\n        this.timer.stop();\r\n    };\r\n    Timer.prototype.render = function () {\r\n        var _a = this, start = _a.start, pause = _a.pause, resume = _a.resume, stop = _a.stop, reset = _a.reset, getTime = _a.getTime, getTimerState = _a.getTimerState, setTime = _a.setTime, setDirection = _a.setDirection, setCheckpoints = _a.setCheckpoints;\r\n        var _b = this.state, ms = _b.ms, s = _b.s, m = _b.m, h = _b.h, d = _b.d, timerState = _b.timerState;\r\n        var _c = this.props, formatValue = _c.formatValue, children = _c.children;\r\n        return (react_1.default.createElement(TimerContext.Provider, { value: { ms: ms, s: s, m: m, h: h, d: d, formatValue: formatValue } }, Timer.getUI(children, {\r\n            start: start,\r\n            resume: resume,\r\n            pause: pause,\r\n            stop: stop,\r\n            reset: reset,\r\n            getTime: getTime,\r\n            getTimerState: getTimerState,\r\n            setTime: setTime,\r\n            setDirection: setDirection,\r\n            setCheckpoints: setCheckpoints,\r\n            timerState: timerState,\r\n        })));\r\n    };\r\n    Timer.prototype.setTime = function (time) {\r\n        this.timer.setTime(time);\r\n    };\r\n    Timer.prototype.getTime = function () {\r\n        return this.timer.getTime();\r\n    };\r\n    Timer.prototype.getTimerState = function () {\r\n        return this.timer.state;\r\n    };\r\n    Timer.prototype.setDirection = function (direction) {\r\n        this.timer.setDirection(direction);\r\n    };\r\n    Timer.prototype.setCheckpoints = function (checkpoints) {\r\n        this.timer.setCheckpoints(checkpoints);\r\n    };\r\n    Timer.prototype.start = function () {\r\n        this.timer.start();\r\n        this.props.onStart();\r\n    };\r\n    Timer.prototype.stop = function () {\r\n        this.timer.stop();\r\n        this.props.onStop();\r\n    };\r\n    Timer.prototype.pause = function () {\r\n        this.timer.pause();\r\n        this.props.onPause();\r\n    };\r\n    Timer.prototype.reset = function () {\r\n        this.timer.reset();\r\n        this.props.onReset();\r\n    };\r\n    Timer.prototype.resume = function () {\r\n        this.timer.resume();\r\n        this.props.onResume();\r\n    };\r\n    Timer.Consumer = TimerContext.Consumer;\r\n    Timer.Milliseconds = Milliseconds;\r\n    Timer.Seconds = Seconds;\r\n    Timer.Minutes = Minutes;\r\n    Timer.Hours = Hours;\r\n    Timer.Days = Days;\r\n    Timer.defaultProps = {\r\n        timeToUpdate: 1000,\r\n        direction: 'forward',\r\n        initialTime: 0,\r\n        startImmediately: true,\r\n        lastUnit: 'd',\r\n        checkpoints: [],\r\n        children: null,\r\n        formatValue: function (value) { return String(value); },\r\n        onStart: function () { },\r\n        onResume: function () { },\r\n        onPause: function () { },\r\n        onStop: function () { },\r\n        onReset: function () { },\r\n    };\r\n    return Timer;\r\n}(react_1.default.PureComponent));\r\nexports.default = Timer;\r\n//# sourceMappingURL=Timer.js.map"]},"metadata":{},"sourceType":"script"}